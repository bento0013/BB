


#SQL
admin.rpt.sql.rpt01.fg=select  case when fg.transfer_type is null or fg.transfer_type > 20000 then 'Outgoing' else 'Incoming' end as transfer_type_name,part.part_no,part_name,rec.firstname||' '||rec.lastname recorder,req.firstname||' '||req.lastname requester,fg.created_date,fg.quantity,fg.balance from cs_stock_fg_transaction fg  inner join cs_part part on fg.part_id = part.id inner join cs_user rec on fg.recorder_id = rec.user_id inner join cs_user req on  fg.requester_id = req.user_id where fg.created_date >= $P!{startDate} and fg.created_date < $P!{endDate}
admin.rpt.sql.rpt01.sm=select  case when semi.transfer_type > 20000 then 'Outgoing'  else 'Incoming'  end as transfer_type_name,semimat.semi_name,semi_type.type_name,part.part_no,part_name,rec.firstname||' '||rec.lastname recorder,req.firstname||' '||req.lastname requester,semi.created_date,semi.quantity,semi.balance from cs_stock_semi_transaction  semi left join cs_transfer_type tf on  semi.transfer_type = tf.transfer_id  inner join cs_part part on semi.part_id = part.id  inner join cs_semi_material semimat on semimat.id=part.semi_material_id  inner join cs_semi_material_type semi_type on semimat.type_id=semi_type.type_id inner join cs_user rec on semi.recorder_id = rec.user_id  inner join cs_user req on  semi.requester_id = req.user_id where semi.created_date >= $P!{startDate} and semi.created_date <  $P!{endDate}
admin.rpt.sql.rpt01.rm=select  case when raw.transfer_type > 20000 then 'Outgoing'  else 'Incoming'  end as transfer_type_name,rawmat.raw_name,raw_type.type_name,part.part_no,part_name,rec.firstname||' '||rec.lastname recorder,req.firstname||' '||req.lastname requester,raw.created_date,raw.quantity,raw.balance from cs_stock_raw_transaction  raw left join cs_transfer_type tf on  raw.transfer_type = tf.transfer_id inner join cs_part part on raw.part_id = part.id inner join cs_semi_material semimat on semimat.id=part.semi_material_id inner join cs_raw_material rawmat on semimat.raw_material_id = rawmat.raw_id inner join cs_raw_material_type raw_type on rawmat.raw_type=raw_type.type_id inner join cs_user rec on raw.recorder_id = rec.user_id inner join cs_user req on  raw.requester_id = req.user_id where raw.created_date >= $P!{startDate} and raw.created_date < $P!{endDate}
admin.rpt.sql.rpt02=select  part_id,customer_id,part_number,customer_name,(case when in_fg is null then 0 else in_fg end) in_fg,(case when out_fg is null then 0 else out_fg end) out_fg,((case when in_fg is null then 0 else in_fg end)-(case when out_fg is null then 0 else out_fg end)) bal_fg,(case when in_semi is null then 0 else in_semi end) in_semi,(case when out_semi is null then 0 else out_semi end) out_semi,((case when in_semi is null then 0 else in_semi end)-(case when out_semi is null then 0 else out_semi end)) bal_semi,(case when in_raw is null then 0 else in_raw end) in_raw,(case when out_raw is null then 0 else out_raw end) out_raw,((case when in_raw is null then 0 else in_raw end)-(case when out_raw is null then 0 else out_raw end)) bal_raw from (select part.id part_id,part.part_no part_number,customer.customer_id customer_id,customer.name customer_name,(select sum(case when quantity is null then 0 else quantity end) from cs_stock_fg_transaction fg where fg.part_id = part.id and fg.transfer_type > 20000 and fg.transfer_type < 30000 and fg.created_date >= $P!{startDate} and fg.created_date < $P!{endDate}) out_fg ,(select sum(case when quantity is null then 0 else quantity end) from cs_stock_fg_transaction fg where fg.part_id = part.id and fg.transfer_type > 10000 and fg.transfer_type < 20000 and fg.created_date >= $P!{startDate} and fg.created_date < $P!{endDate}) in_fg ,(select sum(case when quantity is null then 0 else quantity end) from cs_stock_semi_transaction semit where semit.part_id = part.id and semit.transfer_type > 20000 and semit.created_date >= $P!{startDate} and semit.created_date < $P!{endDate}) out_semi ,(select sum(case when quantity is null then 0 else quantity end) from cs_stock_semi_transaction semit where semit.part_id = part.id and semit.transfer_type < 20000 and semit.created_date >= $P!{startDate} and semit.created_date < $P!{endDate}) in_semi ,(select sum(case when quantity is null then 0 else quantity end) from cs_stock_raw_transaction rawt where rawt.part_id = part.id and rawt.transfer_type > 20000 and rawt.created_date >= $P!{startDate} and rawt.created_date < $P!{endDate}) out_raw ,(select sum(case when quantity is null then 0 else quantity end)  from cs_stock_raw_transaction rawt where rawt.part_id = part.id and rawt.transfer_type < 20000  and rawt.created_date >= $P!{startDate} and rawt.created_date < $P!{endDate}) in_raw  from cs_part as part inner join cs_customer as customer on part.customer_id =  customer.customer_id left join cs_semi_material semi on part.semi_material_id = semi.id left join cs_raw_material rawm on semi.raw_material_id = rawm.raw_id ) data
admin.rpt.sql.rpt03=
#admin.rpt.sql.rpt04=select cp.part_no,cp.part_name,cps.process_name,csm.semi_name,cmp.measurement_position,cc.min_duration,cc.max_duration,cct.checkpoint_type_name,ccu.checkpoint_unit_name,ccs.name customername,cmtm.name measurement_name ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 1 and incmp.machine_id = $P!{machine0} and incmp.measurement_date = $P!{startDate}) value1 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 2 and incmp.machine_id = $P!{machine1} and incmp.measurement_date = $P!{startDate}) value2 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 3 and incmp.machine_id = $P!{machine2} and incmp.measurement_date = $P!{startDate}) value3 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 4 and incmp.machine_id = $P!{machine3} and incmp.measurement_date = $P!{startDate}) value4 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 5 and incmp.machine_id = $P!{machine4} and incmp.measurement_date = $P!{startDate}) value5 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 6 and incmp.machine_id = $P!{machine5} and incmp.measurement_date = $P!{startDate}) value6 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 7 and incmp.machine_id = $P!{machine6} and incmp.measurement_date = $P!{startDate}) value7 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 8 and incmp.machine_id = $P!{machine7} and incmp.measurement_date = $P!{startDate}) value8 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 9 and incmp.machine_id = $P!{machine8} and incmp.measurement_date = $P!{startDate}) value9 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 10 and incmp.machine_id = $P!{machine9} and incmp.measurement_date = $P!{startDate}) value10 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 1 and incmp.machine_id = $P!{machine1} and incmp.measurement_date = $P!{startDate}) value11 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 2 and incmp.machine_id = $P!{machine11} and incmp.measurement_date = $P!{startDate}) value12 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 3 and incmp.machine_id = $P!{machine12} and incmp.measurement_date = $P!{startDate}) value13 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 4 and incmp.machine_id = $P!{machine13} and incmp.measurement_date = $P!{startDate}) value14 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 5 and incmp.machine_id = $P!{machine14} and incmp.measurement_date = $P!{startDate}) value15 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 6  and incmp.machine_id = $P!{machine15} and incmp.measurement_date = $P!{startDate}) value16 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 7 and incmp.machine_id = $P!{machine16} and incmp.measurement_date = $P!{startDate}) value17 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 8 and incmp.machine_id = $P!{machine17} and incmp.measurement_date = $P!{startDate}) value18 ,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 9 and incmp.machine_id = $P!{machine18} and incmp.measurement_date = $P!{startDate}) value19,(select measurement_value from cs_measurement_part incmp where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and incmp.measurement_position = cmp.measurement_position and incmp.measurement_time = 10 and incmp.machine_id = $P!{machine19} and incmp.measurement_date = $P!{startDate}) value20 ,'D:\\\\sandbox\\\\part-img\\\\'||cp.image_path image from cs_measurement_part  cmp inner join cs_part cp on cmp.part_id = cp.id inner join cs_process cps on cmp.process_id = cps.process_id left join cs_checkpoint cc on cc.part_id = cmp.part_id and cc.process_id = cmp.process_id and  cc.position_point = cmp.measurement_position left join cs_checkpoint_type cct on cc.checkpoint_type_id = cct.checkpoint_type_id left join cs_checkpoint_unit ccu on cc.checkpoint_unit_id = ccu.checkpoint_unit_id inner join cs_customer ccs on ccs.customer_id = cp.customer_id inner join cs_semi_material csm on cp.semi_material_id = csm.id inner join cs_measurement_tool cmt on cmp.measurement_tool_id = cmt.id inner join cs_measurement_tool_model cmtm on cmt.model_id = cmtm.id where cmp.part_id = $P!{partId} and cmp.process_id = $P!{processId} and cmp.measurement_date = $P!{startDate} and ((cmp.machine_id = $P!{machine0} and cmp.measurement_time = 1) or (cmp.machine_id = $P!{machine1} and cmp.measurement_time = 2) or (cmp.machine_id = $P!{machine2} and cmp.measurement_time = 3) or (cmp.machine_id = $P!{machine3} and cmp.measurement_time = 4) or (cmp.machine_id = $P!{machine4} and cmp.measurement_time = 5) or (cmp.machine_id = $P!{machine5} and cmp.measurement_time = 6) or (cmp.machine_id = $P!{machine6} and cmp.measurement_time = 7) or (cmp.machine_id = $P!{machine7} and cmp.measurement_time = 8) or (cmp.machine_id = $P!{machine8} and cmp.measurement_time = 9) or (cmp.machine_id = $P!{machine9} and cmp.measurement_time = 10) or (cmp.machine_id = $P!{machine10} and cmp.measurement_time = 1) or (cmp.machine_id = $P!{machine11} and cmp.measurement_time = 2) or (cmp.machine_id = $P!{machine12} and cmp.measurement_time = 3) or (cmp.machine_id = $P!{machine13} and cmp.measurement_time = 4) or (cmp.machine_id = $P!{machine14} and cmp.measurement_time = 5) or (cmp.machine_id = $P!{machine15} and cmp.measurement_time = 6) or (cmp.machine_id = $P!{machine16} and cmp.measurement_time = 7) or (cmp.machine_id = $P!{machine17} and cmp.measurement_time = 8) or (cmp.machine_id = $P!{machine18} and cmp.measurement_time = 9) or (cmp.machine_id = $P!{machine19} and cmp.measurement_time = 10)) group by cmp.part_id,cmp.process_id,cp.part_no,cp.part_name,cc.min_duration,cc.max_duration,cct.checkpoint_type_name,ccu,checkpoint_unit_name,cps.process_name,csm.semi_name,cmp.measurement_position,cp.image_path,ccs.name,cmtm.name
admin.rpt.sql.rpt04=select cp.part_no,cp.part_name,cps.process_name,csm.semi_name,ccp.position_point measurement_position,ccp.min_duration,ccp.max_duration,cct.checkpoint_type_name,ccu.checkpoint_unit_name,ccs.name customername,max(cmtm.name) measurement_name ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 1 and incmp.machine_id = $P!{machine0} and incmp.measurement_date = $P!{startDate}) value1,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 2 and incmp.machine_id = $P!{machine1} and incmp.measurement_date = $P!{startDate}) value2 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 3 and incmp.machine_id = $P!{machine2} and incmp.measurement_date = $P!{startDate}) value3 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 4 and incmp.machine_id = $P!{machine3} and incmp.measurement_date = $P!{startDate}) value4 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 5 and incmp.machine_id = $P!{machine4} and incmp.measurement_date = $P!{startDate}) value5 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 6 and incmp.machine_id = $P!{machine5} and incmp.measurement_date = $P!{startDate}) value6 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id  where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 7 and incmp.machine_id = $P!{machine6} and incmp.measurement_date = $P!{startDate}) value7 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id  where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 8 and incmp.machine_id = $P!{machine7} and incmp.measurement_date = $P!{startDate}) value8 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id  where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point  and incmp.measurement_time = 9 and incmp.machine_id = $P!{machine8} and incmp.measurement_date = $P!{startDate}) value9 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id=cc.checkpoint_id where incmp.part_id= cmp.part_id and incmp.process_id = cmp.process_id and cc.position_point = ccp.position_point and incmp.measurement_time = 10 and incmp.machine_id = $P!{machine9} and incmp.measurement_date = $P!{startDate}) value10 ,case when cpp.image_path = null then 'D:\\\\sandbox\\\\process-part-img\\\\'||'no-image.png' else 'D:\\\\sandbox\\\\process-part-img\\\\'||cpp.image_path end image from cs_measurement_part  cmp inner join cs_part cp on cmp.part_id = cp.id inner join cs_process cps on cmp.process_id = cps.process_id left join cs_process_part cpp on cmp.part_id = cpp.part_id and cmp.process_id = cpp.process_id  left join cs_checkpoint ccp on ccp.checkpoint_id = cmp.checkpoint_id left join cs_checkpoint_type cct on ccp.checkpoint_type_id = cct.checkpoint_type_id left join cs_checkpoint_unit ccu on ccp.checkpoint_unit_id = ccu.checkpoint_unit_id inner join cs_customer ccs on ccs.customer_id = cp.customer_id inner join cs_semi_material csm on cp.semi_material_id = csm.id inner join cs_measurement_tool cmt on cmp.measurement_tool_id = cmt.id inner join cs_measurement_tool_model cmtm on cmt.model_id = cmtm.id where cmp.part_id = $P!{partId} and cmp.process_id = $P!{processId} and cmp.measurement_date = $P!{startDate} and ((cmp.machine_id = $P!{machine0} and cmp.measurement_time = 1) or (cmp.machine_id = $P!{machine1} and cmp.measurement_time = 2) or (cmp.machine_id = $P!{machine2} and cmp.measurement_time = 3) or (cmp.machine_id = $P!{machine3} and cmp.measurement_time = 4) or (cmp.machine_id = $P!{machine4} and cmp.measurement_time = 5) or (cmp.machine_id = $P!{machine5} and cmp.measurement_time = 6) or (cmp.machine_id = $P!{machine6} and cmp.measurement_time = 7) or (cmp.machine_id = $P!{machine7} and cmp.measurement_time = 8) or (cmp.machine_id = $P!{machine8} and cmp.measurement_time = 9) or (cmp.machine_id = $P!{machine9} and cmp.measurement_time = 10)) group by cmp.part_id,cmp.process_id,cp.part_no,cp.part_name,ccp.min_duration,ccp.max_duration,cct.checkpoint_type_name,ccu,checkpoint_unit_name,cps.process_name,csm.semi_name,ccp.position_point,cpp.image_path,ccs.name order by ccp.position_point asc
#admin.rpt.sql.rpt05=select cmp.measurement_position pos,cmp.part_id,cmp.process_id,cp.part_name partname,cp.part_no partnumber,cc.name customername,csm.semi_name materialname,cct.checkpoint_type_name checkpointtype,ccu.checkpoint_unit_name checkpointunit,ccp.min_duration min,ccp.max_duration max,cmt.code_no measurementcode,cmtm.name measurementtoolname ,cmp.measurement_position,(select measurement_value from cs_measurement_part incmp where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id and incmp.measurement_time = $P!{time0} and incmp.machine_id = $P!{machine0}  and incmp.measurement_tool_id = cmp.measurement_tool_id and  incmp.measurement_position = cmp.measurement_position and incmp.measurement_date = $P!{startDate} ) value1,(select measurement_value from cs_measurement_part incmp where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time1} and incmp.machine_id = $P!{machine1} and incmp.measurement_tool_id = cmp.measurement_tool_id and  incmp.measurement_position = cmp.measurement_position and incmp.measurement_date	 = $P!{startDate}) value2,(select measurement_value from cs_measurement_part incmp where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time2} and incmp.machine_id = $P!{machine2} and incmp.measurement_tool_id = cmp.measurement_tool_id and  incmp.measurement_position = cmp.measurement_position and incmp.measurement_date	 = $P!{startDate}) value3,(select measurement_value from cs_measurement_part incmp where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time3}  and incmp.machine_id = $P!{machine3} and incmp.measurement_tool_id = cmp.measurement_tool_id and  incmp.measurement_position = cmp.measurement_position and incmp.measurement_date	 = $P!{startDate}) value4,(select measurement_value from cs_measurement_part incmp where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time4}  and incmp.machine_id = $P!{machine4} and incmp.measurement_tool_id = cmp.measurement_tool_id and  incmp.measurement_position = cmp.measurement_position and incmp.measurement_date	 = $P!{startDate}) value5,$P!{imagepath}||cp.image_path image from cs_measurement_part cmp left join cs_checkpoint  ccp on cmp.part_id = ccp.part_id and cmp.process_id = ccp.process_id and cmp.measurement_position = ccp.position_point inner join cs_part cp on cmp.part_id = cp.id inner join cs_customer cc on cp.customer_id = cc.customer_id inner join cs_semi_material csm on cp.semi_material_id = csm.id left join cs_checkpoint_type cct on ccp.checkpoint_type_id = cct.checkpoint_type_id left join cs_checkpoint_unit ccu on ccp.checkpoint_unit_id = ccu.checkpoint_unit_id inner join cs_measurement_tool cmt on cmp.measurement_tool_id = cmt.id inner join cs_measurement_tool_model cmtm on cmt.model_id = cmtm.id where cmp.part_id = $P!{partId} and cmp.process_id= $P!{processId} and cmp.measurement_date = $P!{startDate} and ((cmp.measurement_time = $P!{time0}  and cmp.machine_id = $P!{machine0}) or (cmp.measurement_time = $P!{time1}  and cmp.machine_id = $P!{machine1}) or (cmp.measurement_time = $P!{time2}  and cmp.machine_id = $P!{machine2}) or (cmp.measurement_time = $P!{time3} and cmp.machine_id = $P!{machine3}) or (cmp.measurement_time = $P!{time4}  and cmp.machine_id = $P!{machine4})) group by cmp.part_id,cmp.process_id,cp.part_name,cp.part_no,cc.name,csm.semi_name,cct.checkpoint_type_name,cmp.measurement_position ,ccu.checkpoint_unit_name,ccp.min_duration,ccp.max_duration,cmt.code_no,cmp.measurement_tool_id,cmtm.name,cp.image_path order by cmp.measurement_position
admin.rpt.sql.rpt05=select  ccp.position_point pos,cmp.part_id,cmp.process_id,cp.part_name partname,cp.part_no partnumber,cc.name customername ,csm.semi_name materialname,cct.checkpoint_type_name checkpointtype,ccu.checkpoint_unit_name checkpointunit ,ccp.min_duration min,ccp.max_duration max,cmt.code_no measurementcode,cmtm.name measurementtoolname ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id and incmp.measurement_time = $P!{time0} and incmp.machine_id = $P!{machine0}  and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date = $P!{startDate} ) value1 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time1} and incmp.machine_id = $P!{machine1} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value2,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time2} and incmp.machine_id = $P!{machine2} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value3 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time3}  and incmp.machine_id = $P!{machine3} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value4 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time4} and incmp.machine_id = $P!{machine4} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value5 ,case when cpp.image_path is null then $P!{imagepath}||'no-image.png' else $P!{imagepath}||cpp.image_path end image from cs_measurement_part cmp left join cs_process_part cpp on cmp.part_id = cpp.part_id and cmp.process_id = cpp.process_id left join cs_checkpoint  ccp on cmp.checkpoint_id = ccp.checkpoint_id inner join cs_part cp on cmp.part_id = cp.id inner join cs_customer cc on cp.customer_id = cc.customer_id inner join cs_semi_material csm on cp.semi_material_id = csm.id left join cs_checkpoint_type cct on ccp.checkpoint_type_id = cct.checkpoint_type_id left join cs_checkpoint_unit ccu on ccp.checkpoint_unit_id = ccu.checkpoint_unit_id inner join cs_measurement_tool cmt on cmp.measurement_tool_id = cmt.id inner join cs_measurement_tool_model cmtm on cmt.model_id = cmtm.id where cmp.part_id = $P!{partId} and cmp.process_id= $P!{processId} and cmp.measurement_date = $P!{startDate} and ((cmp.measurement_time = $P!{time0}  and cmp.machine_id = $P!{machine0}) or (cmp.measurement_time = $P!{time1}  and cmp.machine_id = $P!{machine1}) or (cmp.measurement_time = $P!{time2}  and cmp.machine_id = $P!{machine2}) or (cmp.measurement_time = $P!{time3} and cmp.machine_id = $P!{machine3}) or (cmp.measurement_time = $P!{time4}  and cmp.machine_id = $P!{machine4})) group by cmp.part_id,cmp.process_id,cp.part_name,cp.part_no,cc.name,csm.semi_name,cct.checkpoint_type_name ,ccp.position_point ,ccu.checkpoint_unit_name,ccp.min_duration,ccp.max_duration,cmt.code_no,cmp.measurement_tool_id,cmtm.name,cpp.image_path order by ccp.position_point
admin.rpt.sql.rpt05=select pos,part_id,process_id,partname,partnumber,customername,materialname,checkpointtype,checkpointunit,min,max,image ,(select name from cs_measurement_tool_model cmtm inner join cs_measurement_tool cmt on cmtm.id = cmt.model_id where cmt.id = max(measurement_tool_id)) measurementtoolname,(select code_no from  cs_measurement_tool cmt where cmt.id = max(measurement_tool_id)) measurementcode, max(value1) value1,max(value2) value2,max(value3) value3,max(value4) value4,max(value5) value5 from (select  ccp.position_point pos,cmp.part_id,cmp.process_id,cp.part_name partname,cp.part_no partnumber,cc.name customername,csm.semi_name materialname,cct.checkpoint_type_name checkpointtype,ccu.checkpoint_unit_name checkpointunit,cmp.measurement_tool_id ,ccp.min_duration min,ccp.max_duration max ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id and incmp.measurement_time = $P!{time0} and incmp.machine_id = $P!{machine0}  and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date = $P!{startDate} ) value1 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time1} and incmp.machine_id = $P!{machine1} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value2 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time2} and incmp.machine_id = $P!{machine2} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value3 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time3}  and incmp.machine_id = $P!{machine3} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value4 ,(select measurement_value from cs_measurement_part incmp inner join cs_checkpoint cc on incmp.checkpoint_id = cc.checkpoint_id where incmp.part_id = cmp.part_id and incmp.process_id=cmp.process_id  and incmp.measurement_time = $P!{time4} and incmp.machine_id = $P!{machine4} and incmp.measurement_tool_id = cmp.measurement_tool_id and  cc.position_point = ccp.position_point and incmp.measurement_date	 = $P!{startDate}) value5 ,case when cpp.image_path is null then $P!{imagepath}||'no-image.png' else $P!{imagepath}||cpp.image_path end image from cs_measurement_part cmp left join cs_process_part cpp on cmp.part_id = cpp.part_id and cmp.process_id = cpp.process_id left join cs_checkpoint  ccp on cmp.checkpoint_id = ccp.checkpoint_id inner join cs_part cp on cmp.part_id = cp.id inner join cs_customer cc on cp.customer_id = cc.customer_id inner join cs_semi_material csm on cp.semi_material_id = csm.id left join cs_checkpoint_type cct on ccp.checkpoint_type_id = cct.checkpoint_type_id left join cs_checkpoint_unit ccu on ccp.checkpoint_unit_id = ccu.checkpoint_unit_id where cmp.part_id = $P!{partId} and cmp.process_id= $P!{processId} and cmp.measurement_date = $P!{startDate} and ((cmp.measurement_time = $P!{time0}  and cmp.machine_id = $P!{machine0}) or (cmp.measurement_time = $P!{time1}  and cmp.machine_id = $P!{machine1}) or (cmp.measurement_time = $P!{time2}  and cmp.machine_id = $P!{machine2}) or (cmp.measurement_time = $P!{time3} and cmp.machine_id = $P!{machine3}) or (cmp.measurement_time = $P!{time4}  and cmp.machine_id = $P!{machine4})) group by cmp.part_id,cmp.process_id,cp.part_name,cp.part_no,cc.name,csm.semi_name,cct.checkpoint_type_name,ccp.position_point ,ccu.checkpoint_unit_name,ccp.min_duration,ccp.max_duration,cmp.measurement_tool_id,cpp.image_path) data group by pos,part_id,process_id,partname,partnumber,customername,materialname,checkpointtype,checkpointunit,image,min,max order by pos
admin.rpt.sql.rpt06=
admin.rpt.sql.rpt07=
